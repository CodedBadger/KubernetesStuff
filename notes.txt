Kubernetes Notes!

Uselful Commands
 - kubectl 
    #
 - kubectl get all 
    # provides basic info on all objects

 - kubectl apply -f <name of yaml file (NOYF)> 
    # This will apply changes to params in yaml file

 - kubectl set iamge <NOYF>
    #

 - kubectl start
    #

 - kubectl create -f <file.yaml>
    # Will create based on params in specified yaml file.

 - kubectl get <object> <name of object>
    # This gives basic info of whatever object you are trying to get info on pods/nodes/deployments/replicasets

 - kubectl describe <object> <name of object>
    # This gives more detailed info of whatever object you are trying to get info on pods/nodes/deployments/replicasets

 - kubectl delete
    #

kubernetes structure

nodes -> containers -> pods -> apps

Kubernetes yaml Structure


Replica Sets (RS)
 - Can be used to maintain high availability
 - yaml file that gives params that specifies # of replicas
 - will generate new pods if actual # of pods does not = desired # of pods
  ### RELATED COMMANDS ###
  - kubectl edit replicaset <name of replica set (NORS)>
      # Will open config of replica set in editor 
  - kubectk scale replicaset <NORS> --replicaset=2 
      #scales RS to desired amount


Deployments
 - Creates new rollouts which are call 'Revisions'
  - Allows for rollout
 - yaml file similar to replica set but ' kind ' is Deployment instead of 
  ### RELATED COMMANDS ###
    - kubectl create -f <file.yaml>
      # Will create based on params in specified yaml file.

    ### STATUS  ### 
    -kubectl rollout status <name of deployment>
      # displays status of rollouts
    -kubectl rollout history <name of deployment>
      # Displays rollout history

    ### UPDATES ###
    - kubectl apply -f <NOYF>
    - kubectl set image <NOYF> <image>=<image>:<version>

    ### ROLLBACK ###
    - kubectl rollout undo <NOYF>


Networking
 - Nodes have IPs
  # pods have and interal network w/in node allowing pods to have comms with eachother
 - Can ssh into nodes
 
 - Cluster Networking
  # Kubernetes does not automatically set up any networking and expects us to set it up
    + containers/Pods can communicate to one another w/o NAT
    + All nodes can communicate with all containers and vice versa without NAT

